// Mobile menu
@include mq($until: $bp-tablet) {
    .menu__hamburger {
		position: absolute;
        top: 50%;
        transform: translateY(-50%);
		right: 20px;
		width: 30px;
		height: 29px;
		display: block;
		z-index: 110;
		margin: 0;

		&::before,
		&::after {
			height: 4px;
			width: 0%;
			background: $black;
			top: 50%;
			left: 50%;
			position: absolute;
			content: '';
			display: block;
			transform-origin: 50% 50%;
			transition: width 200ms ease-in-out;
		}

		&::before {
			transform: translate3d(-50%, -50%, 0) rotate(45deg);
		}

		&::after {
			transform: translate3d(-50%, -50%, 0) rotate(-45deg);
		}

		span {
			height: 4px;
			background: $black;
			width: 100%;
			position: absolute;
			display: block;
			left: 0;
			transition: width 200ms ease-in-out 200ms;

			&:nth-child(1) {
				top: 0;
				transform: translateY(20%);
			}

			&:nth-child(2) {
				top: 50%;
				transform: translateY(-50%);
			}

			&:nth-child(3) {
				bottom: 0;
				transform: translateY(-20%);
			}
		}

		&:hover {
			cursor: pointer;
		}
    }
    
    .menu__checkbox {
		position: fixed;
		top: 0;
		left: -1500px;
		z-index: -100;

		&:checked {
			~ .menu__wrapper {
				transform: translateX(0);
			}

			~ .menu__hamburger {
				&::before,
				&::after {
					width: 100%;
				}

				&::before {
					transition-delay: 600ms;
				}

				&::after {
					transition-delay: 650ms;
				}

				span {
					width: 0;

					&:nth-child(1) {
						transition-delay: 450ms;
					}

					&:nth-child(2) {
						transition-delay: 500ms;
					}

					&:nth-child(3) {
						transition-delay: 550ms;
					}
				}
			}
		}
    }
    
    .menu__wrapper {
        height: 100vh;
        width: 100%;
        background: $white;
        position: fixed;
        top: 0;
        right: 0;
        transform: translateX(100%);
        padding: 20px;
        transition: transform 300ms ease-in-out;
        will-change: transform;
        
        &.is-active {
            transform: translateX(0);
        }
    }
    .menu__item {
        font-size: 20px;
    }
}


// Desktop menu
@include mq($from: $bp-tablet) {
    .menu__hamburger,
    .menu__checkbox {
        display: none;
    }

    .menu__wrapper {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
    }

    .menu__list {
        display: flex;
    }

    .menu__item {
        margin-right: 20px;

        &:last-child {
            margin-right: 0;
        }
    }

    .menu__link {
        position: relative;
        
        &::after {
            position: absolute;
            bottom: -5px;
            width: 100%;
            display: block;
            background: $black;
            height: 2px;
            opacity: 0;
            transform: translateY(-2px);
            content: '';
            transition: opacity 200ms ease-in-out, transform 200ms ease-in-out;
            will-change: transform;
        }

        &:hover {
            &::after {
                transform: translateY(0);
                opacity: 1;
            }
        }
    }
}